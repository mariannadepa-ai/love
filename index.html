<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Walentynka ğŸ’˜</title>
  <style>
    :root { --bg1:#ffdde1; --bg2:#ee9ca7; }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at 20% 20%, #fff 0 20%, transparent 21%),
                  radial-gradient(circle at 80% 30%, #fff 0 14%, transparent 15%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }
    .card{
      width:min(560px, 92vw);
      background: rgba(255,255,255,.75);
      backdrop-filter: blur(10px);
      border:1px solid rgba(255,255,255,.55);
      border-radius:24px;
      padding:28px 26px;
      box-shadow: 0 18px 60px rgba(0,0,0,.18);
      text-align:center;
      position:relative;
    }
    h1{margin:0 0 8px; font-size:clamp(26px, 5vw, 38px);}
    p{margin:10px 0; font-size:clamp(16px, 2.6vw, 18px); line-height:1.5;}
    .btns{display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:18px;}
    button{
      border:0; padding:12px 16px; border-radius:14px; cursor:pointer;
      font-weight:600; font-size:16px;
      box-shadow: 0 10px 25px rgba(0,0,0,.12);
      transition: transform .08s ease;
    }
    button:active{transform: translateY(1px) scale(.99);}
    .yes{background:#ff3b6b; color:#fff;}
    .no{background:#ffffff; color:#111;}
    .small{font-size:13px; opacity:.8; margin-top:14px}
    /* serduszka */
    .heart{
      position:absolute; left:var(--x); top:110%;
      font-size: var(--s);
      animation: floatUp var(--d) linear infinite;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
      opacity:.95;
      user-select:none;
      pointer-events:none;
    }
    @keyframes floatUp{
      from{ transform: translateY(0) rotate(0deg); opacity:0;}
      10%{opacity:1;}
      to{ transform: translateY(-140vh) rotate(360deg); opacity:0;}
    }
    .reveal{
      margin-top:16px;
      padding:14px 16px;
      border-radius:18px;
      background: rgba(255,255,255,.85);
      border: 1px dashed rgba(255,59,107,.55);
      display:none;
    }
  </style>
</head>
<body>
  <div class="card" id="card">
    <h1>Hej, <span id="name">Kochanie</span> ğŸ’˜</h1>
    <p>To moja walentynka dla Ciebie. Mam jedno pytanieâ€¦</p>
    <p style="font-size:20px; font-weight:700;">Zostaniesz mojÄ… WalentynkÄ…?</p>

    <div class="btns">
      <button class="yes" id="yesBtn">TAK â¤ï¸</button>
      <button class="no" id="noBtn">Nie ğŸ™ˆ</button>
      <button id="copyBtn">Skopiuj link</button>
    </div>

    <div class="reveal" id="reveal">
      <p style="margin:0; font-weight:700;">Yay! ğŸ‰</p>
      <p style="margin:8px 0 0;">Dobry wybÃ³r... <b>w nagrodÄ™ bÄ™dzie buziaczek</b>. ğŸ˜‰</p>
    </div>

    <div class="small">Tip: moÅ¼esz dodaÄ‡ imiÄ™ w linku: <code>?imie=Ania</code></div>
  </div>

  <script>
    // imiÄ™ z parametru w URL: ?imie=Ania
    const params = new URLSearchParams(location.search);
    const imie = params.get("imie");
    if (imie) document.getElementById("name").textContent = imie;

    // serduszka w tle
    const hearts = ["ğŸ’–","ğŸ’˜","ğŸ’•","â¤ï¸","ğŸ’—"];
    for (let i=0;i<18;i++){
      const s = document.createElement("div");
      s.className = "heart";
      s.textContent = hearts[Math.floor(Math.random()*hearts.length)];
      s.style.setProperty("--x", (Math.random()*100) + "vw");
      s.style.setProperty("--s", (18+Math.random()*22) + "px");
      s.style.setProperty("--d", (6+Math.random()*8) + "s");
      s.style.animationDelay = (-Math.random()*10) + "s";
      document.body.appendChild(s);
    }

    document.getElementById("yesBtn").onclick = () => {
      document.getElementById("reveal").style.display = "block";
      confetti();
    };

    // "Nie" ucieka :)
    const noBtn = document.getElementById("noBtn");
    noBtn.onmouseover = () => {
      const card = document.getElementById("card").getBoundingClientRect();
      const x = Math.random()*(card.width-90);
      const y = Math.random()*(card.height-50);
      noBtn.style.position = "absolute";
      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
    };

    // kopiowanie linku
    document.getElementById("copyBtn").onclick = async () => {
      try{
        await navigator.clipboard.writeText(location.href);
        alert("Skopiowane! WyÅ›lij ten link ğŸ˜Š");
      }catch(e){
        prompt("Skopiuj rÄ™cznie:", location.href);
      }
    };

    // maÅ‚e confetti bez bibliotek
    function confetti(){
      for(let i=0;i<120;i++){
        const p=document.createElement("div");
        p.style.position="fixed";
        p.style.left=(innerWidth/2)+"px";
        p.style.top=(innerHeight/2)+"px";
        p.style.width="8px"; p.style.height="8px";
        p.style.borderRadius="2px";
        p.style.background=`hsl(${Math.random()*360}, 90%, 60%)`;
        p.style.zIndex=9999;
        const ang=Math.random()*Math.PI*2;
        const vel=4+Math.random()*8;
        let x=0,y=0,vy=0;
        document.body.appendChild(p);
        const t=setInterval(()=>{
          x+=Math.cos(ang)*vel;
          y+=Math.sin(ang)*vel;
          vy+=0.25; y+=vy; // grawitacja
          p.style.transform=`translate(${x}px, ${y}px) rotate(${i*3}deg)`;
        },16);
        setTimeout(()=>{clearInterval(t); p.remove();}, 1200+Math.random()*600);
      }
    }
  </script>
</body>
</html>
